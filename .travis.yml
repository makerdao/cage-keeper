language: python
os:
- linux
python:
- 3.6
cache: pip
before_cache:
- rm -f $HOME/.cache/pip/log/debug.log
before_install:
- sudo apt-get update
- sudo apt-get -y install python3-pip
- sudo apt-get install python3-setuptools
- sudo pip3 install awscli
install:
- pip install $(cat requirements.txt $(find lib -name requirements.txt | sort) | sort
  | uniq | sed 's/ *== */==/g')
- pip install -r requirements-dev.txt
script:
- "./test.sh"
after_success:
- codecov
deploy:
- provider: script
  script: bash ./.travis/build-deploy.sh prod us-east-1
  on:
    branch: master
notifications:
  email: false
env:
  global:
  - secure: umKaAo1nxJGy9SpY08Kv4h/jm5SjK+Xv7Iq6+bMXNRdn8Rb3vtmEFGH4pdrLschvH2wBOeCshZ4LBnj2CiOM1tl+ds+bCqTFcTHSRH/M3efXMEAo9nytBHyJXe6XKvFMxnKKODQ2Hf7nnHU6QgOOVJUnEj/eUvnYV6t2OSggSNbQ2PaW6Sk7ELL92aSUT7WDW9ue3MXujPQ5+ksyq1uWIfI6AfuN/BdQmMrGruTVfWhm/SRUBWrNJz3hwoaOZwNzgQWJb2J2wM6MJJP6DXbnQywqCAlvLfJFjvp+XcBo2Ax9hU23pEw8yK2/TFsEvka4cusCewatV0WB38YcproxXIpHmxBqGFx2HO+eANQZvvv00dpyYsRtLNIebxRZ41kZhpO8NZT3UbYCFnXZoyHzs8NWX4UdoHw+D7zU2eX3fVOMH9ngIMjcj8IqnPCKHCnyD+3Q38nl1vJArvQVROQdIiV0YDf7JczgVPBXM7iUgPc1MtW355lJ6Ix7b2gzLoZOlNr2rizKgyaTy0MGKWB+03cktHQtmhdwSjio/W1EVReW7smGHO0rijvzfAXORyYFWwa9iRzbRvtgESXrhcTrqhpldhytdUYxxx0MNrwUN8MAf9Obti6wYwAJZd6QJU4p3Tv3IdiN2/kfVJIPepAENGEN5iknCev/L9UueEELDhs=
  - secure: iTRDgGL3F8n6SbnerckMTGvW4E6MuMd2T6kFeAzeyLq5zg7SjDJZ4VvVQlmYj+CoPunwC/as/PYwBfBbCgJV4fNJXiTSJ6N1wLpSqyhHgEHMk+pjMrlBD1u7AnJdoNKcFA/ud1whCXnaCZDsVkmGkJlbJHOfuCZi3sht7Lq4ocfh2/n063KxkdWLs5PmVWX4sV0+DVZn/1B/6ARnjVEg4U+/PI5KhVhKGcZrPabAmHM86GFIUH8oRyfcDdRofpBqcjMSYZLFPRqLIirEvMIV6a1TyHhIOyhxQbt8VoFsrNQoGn8BrebzduFSdG+44J12qU4H0PURYgs7ObhuPD9JTXT+0DyNT9gH6uBbj7YeDIoPSVMkwIV0M7ZlmjaCYqeoJFoZi2WGinzS7oSPeC1mZjpmKv4U+7P2Y/dPkFOOFZYWdrGt6k2FF4GjdcycnrFgd9+tMbSfPR855vJXDJRFUhd9KdeV96wEd+v2sJYnmTVVMYBq3xT5DhDzerh4YNwwJPtU0Wupp2ZyiAgMWz9ClCRyzqtx1LyJWjWUDzGNLsl2Nt6EIYxWGKzl7njStrjv0EiL6/z35KjZoap0WFbwPBGHkp0LsMeB+Iq5DnaEn5HOWi7+mZLgHyAO93PdjyoBK/muOk8Hn62nJ6DG9H+aPHITtSwmBwHnNm43honPwrs=
  - secure: NE/h7WZdA2bE/BFMFNXDWypHp29qsvMFQi9SCRvfZxte3o85eYYzd/g259gaIr2uPDUI8/qfCbq2OXlvdeqziAgfe/SjDwOZv4suXfJkA/nRfV6vhkj4TsiNBtorw80MwDWENnjuUN8O/f483qXk4AUd4fxDfsMG3PBOOjEUEbyeb2Me8xxyXk/JlpHidGLzgntpBKcsHDJjEgv9EwgeMvDMA3GglXaftWR/XJ4ESLLYRRP1paTWo9v2qWTwvozF7dEZzH6cEZgNxUihSVLwlmoliH1quHATKPv4j6NGC2t1qLA0SaJ8Jk01i+13UdF9p9f4TV8Qa997RB9ffkk7O2dCAdhjyeteQbRJ3JJLQHIebUu6z/2b58al9r4rGt84bN9elyz59AxWayRw++1fJSrSgzDPv9kL/wkYnOyHNvFic5ofZbUFElcxln4ZdJypMMjnYC6A91RrPWqHvu6Ms7LmtgscLjcjf031S6ns52w1uY9HoJ4zXNVflZduwfb16VD1qNVa9um1iRrvl2ZsaseMK1BbqTJh1fEydrTC2VoSO21QAZ2S26UpcMAjuxSHBy8j1cTMEGuersqccJmeNrNFz6CWP3qLa1lbLqE+Aw5Oac515ijJs/+1n51q8BiTJovGc4OY45UcCBbGx8yUBm6iQyl16GI7Gzc2MWxTV+I=
  - secure: IK+XhaIlWYxGOD2lzDIpkVbC4Dn41XVqU5vOjNdOHDK6YpFr/AXK2usfd8rN+RXewOmMKDURKjlhSU7X9oXUb72nFwRsg3I0hXfjOt/+MykxSDOfBEeyRXR0UCEUb2u22N40V8GPmU7Apk+6o/GFnyFLJSGPmNzfTkQv9qk2lHG7yPe3B6yb+FHPCTNvSETEAASbuoUIWnQ5HQysyPOP65wUoA5KxlYvhLraqH/VC/DXnCfrwEtLL5uP401X5RgK342EFGkbHiGPg+eJCgF3tLuzvKpiVIdijzAA5FZ69KPp01nTJQIErBvt04MuxG351CsEFrqKdOO4cEgJ/Z4ynSP46Ks+SivGI/aBfDdB85z1cGlVjKZJimnoZs2qQbsx0X/rIDWHUM9PzYGCaSHY3aCNFXnxyYnan2BwJrza1kWh9pjirXDTMeZRs6DmbJYPrW8BZveBt+Nctok9kNuaG0YXedeh0/qri7IaeH5dexf8mGaR+fhPCbJveGzRIUEqyDUVEsULDXowqGOjdlAxFxXzYXtv9ZPxEyVBWavHTLIfKbP8EW2fV3U3LNdJDsqaXyjrx6Sy/0OxFnH1pjGzr1tXE4wShJBmqYp4vbF0LUPOdBI0cfW+5N6tBXeyDXSDpCC479DIFsg7fCZqNDtVoFOuN+WM/b25hkmEFR/YAQU=
